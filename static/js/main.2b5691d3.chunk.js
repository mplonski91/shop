(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,a){e.exports=a(72)},69:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),u=a.n(c),i=a(7),l=a(8),o=a(11),s=a(10),m=a(12),d=a(74),f=a(76),h=a(73),p=a(4),E=a(14),v=a(34),O=a(9),b={isFeching:!1,isFetched:!1,data:[],manufacturers:[],selected:""},g=a(38),C=a(17);function y(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var _={isFetching:!1,isFetched:!1,data:{},indexes:[],error:null},j=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__():function(e){return e},S=Object(E.e)(Object(E.c)({product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PRODUCTS_REQUEST":return Object(O.a)({},e,{isFeching:!0});case"GET_PRODUCTS_SUCCESS":return Object(O.a)({},e,{isFeching:!1,isFetched:!0,data:n.data,manufacturers:n.manufacturers});case"GET_PRODUCTS_FAILURE":return Object(O.a)({},e,{isFeching:!1,isFetched:!1});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ADD_PRODUCT_TO_CART_REQUEST":return Object(O.a)({},e,{isFetching:!0});case"ADD_PRODUCT_TO_CART_SUCCESS":var r=e.data[n.id],c=new Set(e.indexes);return c.add(n.id),Object(O.a)({},e,{data:Object(O.a)({},e.data,Object(C.a)({},n.id,Object(O.a)({},r,n,{quantity:r?r.quantity+1:1}))),indexes:Array.from(c),isFetching:!1,isFetched:!0});case"REMOVE_PRODUCT_FROM_CART_SUCCESS":var u=e.indexes.filter(function(e){return e!==n.index}),i=e.data,l=(i[n.index],Object(g.a)(i,[n.index].map(y)));return Object(O.a)({},e,{data:l,indexes:u});case"ADD_PRODUCT_TO_CART_FAILURE":return Object(O.a)({},e,{isFetching:!1,isFetched:!1});default:return e}}}),Object(E.d)(Object(E.a)(v.a),j)),T=function(e){var t=e.children;return r.a.createElement("div",{className:"container"},t)},R=a(75);var P=Object(p.b)(function(e){return{cartQuantity:Object.values(e.cart.data).reduce(function(e,t){return e+t.quantity},0)}})(function(e){var t=e.cartQuantity;return r.a.createElement("div",{className:"cart_link"},r.a.createElement("span",null,"Products in cart: "),r.a.createElement("span",null,t))}),D=function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement(T,null,r.a.createElement("ul",{className:"nav"},r.a.createElement("li",null,r.a.createElement(R.a,{to:"/",activeClassName:"is-active",exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(R.a,{to:"/catalog",activeClassName:"is-active",exact:!0},"Catalog")),r.a.createElement("li",null,r.a.createElement(R.a,{to:"/about",activeClassName:"is-active"},"About")),r.a.createElement("li",null,r.a.createElement(R.a,{to:"/cart",activeClassName:"is-active"},"Cart"))),r.a.createElement(P,null)))},U=function(e){var t=e.children;return r.a.createElement("p",null,t)},k=function(){return r.a.createElement("footer",null,r.a.createElement(T,null,r.a.createElement(U,null,"Shop \xa9 2020",r.a.createElement("br",null)," Designed by Andrzej")))},A=function(e){var t=e.text;return r.a.createElement("h1",{className:"header-big"},t)},w=Object(p.b)(null,{addProductToCart:function(e){return function(t,a){return t({type:"ADD_PRODUCT_TO_CART_REQUEST"}),Promise.resolve(a().product.data.find(function(t){return t.id===e})).then(function(e){if(!e)throw Error();t(function(e){return{type:"ADD_PRODUCT_TO_CART_SUCCESS",payload:e}}(e))}).catch(function(){return t({type:"ADD_PRODUCT_TO_CART_FAILURE"})})}}})(function(e){var t=e.id,a=e.image,n=e.name,c=e.amount,u=e.addProductToCart;return r.a.createElement("div",{className:"product"},r.a.createElement("img",{src:a,alt:n}),r.a.createElement("p",{className:"price"},c),r.a.createElement("h3",null,n),r.a.createElement("a",{onClick:function(){return u(t)}},"Add to cart"))}),F=function(e){var t=e.text;return r.a.createElement("h2",{className:"header-small"},t)},N=function(e){var t=e.children;return r.a.createElement("div",{className:"products"},t)},x=a(36),M=a.n(x),q=function(){function e(){Object(i.a)(this,e)}return Object(l.a)(e,null,[{key:"getProducts",value:function(){return M.a.get("http://react2018-shop.s3-website-eu-west-1.amazonaws.com/").then(function(e){return e.data})}},{key:"getProductByCategory",value:function(t){return e.getProducts().then(function(e){return e.filter(function(e){return e.category===t&&!0===e.featured})})}},{key:"getManufactures",value:function(){return e.getProducts().then(function(e){return e.map(function(e){return e.manufacture}).sort()}).then(function(e){return Array.from(new Set(e))})}}]),e}(),L=function(){return function(e){e({type:"GET_PRODUCTS_REQUEST"}),q.getProducts().then(function(t){var a=Array.from(new Set(t.map(function(e){return e.manufacture}).sort()));e(function(e,t){return{type:"GET_PRODUCTS_SUCCESS",payload:{data:e,manufacturers:t}}}(t,a))}).catch(function(t){return e({type:"GET_PRODUCTS_FAILURE",error:t})})}},I=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getProducts()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F,{text:this.props.heading}),r.a.createElement(N,null,this.props.products.map(function(e){return r.a.createElement(w,Object.assign({key:e.id},e))})))}}]),t}(n.Component),Q=Object(p.b)(function(e,t){return{products:e.product.data.filter(function(e){return e.category===t.category&&!0===e.featured})}},{getProducts:L})(I),V=function(){return r.a.createElement("div",null,r.a.createElement(A,{text:"WELCOME TO OUR STORE"}),r.a.createElement(Q,{heading:"desktops",category:"desktop"}),r.a.createElement(Q,{heading:"tablets",category:"tablet"}))},G=a(37),X=a(13),B=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getProducts()}},{key:"render",value:function(){return r.a.createElement(N,null,this.products.map(function(e){return r.a.createElement(w,Object.assign({key:e.id},e))}))}},{key:"products",get:function(){var e=this.props,t=e.manufacture,a=e.search,n=e.products;return t&&a?n.filter(function(e){return e.manufacture===t&&e.name.toLowerCase().includes(a.toLowerCase())}):t?n.filter(function(e){return e.manufacture===t}):a?n.filter(function(e){return e.name.toLowerCase().includes(a.toLowerCase())}):n}}]),t}(r.a.Component),W=Object(p.b)(function(e){return{products:e.product.data}},{getProducts:L})(B),z=function(e){var t=e.item,a=e.onChange,n=e.checked;return r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"manufacturere",id:t,value:t,checked:n,onChange:a}),r.a.createElement("label",{htmlFor:t},t))},J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).handleSearchInput=function(e){a.setState({inputSearch:e.target.value}),console.log({inputSearch:e.target.value})},a.state={inputSearch:"",selected:"All"},a.handleManufactureChange=a.handleManufactureChange.bind(Object(X.a)(Object(X.a)(a))),a.handleClearFilters=a.handleClearFilters.bind(Object(X.a)(Object(X.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getProducts()}},{key:"handleClearFilters",value:function(){this.setState({inputSearch:"",selected:"All"})}},{key:"handleManufactureChange",value:function(e){var t=this;return function(){return t.setState({selected:e})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.selected,n=t.inputSearch,c="All"===a?"":a;return r.a.createElement("div",null,r.a.createElement(A,{text:"Catalog"}),r.a.createElement("div",{className:"catalog"},r.a.createElement("div",{className:"column-left"},r.a.createElement("div",{className:"filter"},r.a.createElement("div",{className:"filter-header"},r.a.createElement("h4",null,"Search"),r.a.createElement("a",{href:"#",className:"clear",onClick:this.handleClearFilters},"Clear")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"search...",value:n,onChange:this.handleSearchInput})),r.a.createElement("h4",null,"Manufacturer"),r.a.createElement("div",null,this.manufactures.map(function(t){return r.a.createElement(z,{key:t,item:t,checked:t===a,onChange:e.handleManufactureChange(t)})})))),r.a.createElement("div",{className:"column-right"},r.a.createElement(N,null,r.a.createElement(W,{manufacture:c,search:n})))))}},{key:"manufactures",get:function(){return["All"].concat(Object(G.a)(this.props.manufacturers))}}]),t}(n.Component),H=Object(p.b)(function(e){return{manufacturers:e.product.manufacturers||[]}},{getProducts:L})(J),$=function(){return r.a.createElement("div",null,r.a.createElement(A,{text:"About"}),r.a.createElement(U,null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris scelerisque odio pharetra, rhoncus velit eget, feugiat magna. Integer ac augue aliquam, tempor diam nec, pulvinar velit. Pellentesque et sem a diam fringilla egestas nec vel metus. Etiam ac convallis leo. Vivamus vitae volutpat nisl, mollis hendrerit libero. Vivamus sed lobortis ligula. Suspendisse a nisi erat. Donec mi ante, condimentum nec efficitur non, egestas et lorem. Duis at urna ut mauris fringilla dignissim at in odio. Ut consectetur purus et maximus aliquam. Sed consectetur diam quis accumsan condimentum. Proin porta condimentum velit quis convallis."),r.a.createElement(U,null,"Donec mauris tellus, lobortis id dignissim id, luctus ut purus. Etiam rutrum nibh consectetur purus tincidunt scelerisque. Etiam faucibus volutpat lectus, quis blandit diam consectetur ac. In hac habitasse platea dictumst. Sed rhoncus mattis condimentum. Vivamus sit amet mi volutpat enim tincidunt fringilla. Etiam porttitor dolor eleifend felis consectetur facilisis. Ut pulvinar sollicitudin erat, nec malesuada nunc scelerisque nec. Aliquam vel dolor diam. Cras efficitur dignissim justo, ac tristique tellus pellentesque pharetra. Quisque pharetra lectus molestie, posuere lectus eget, tempor justo."))},K=Object(p.b)(null,{removeProductFromCart:function(e){return function(t){return t({type:"REMOVE_PRODUCT_FROM_CART_REQUEST"}),Promise.resolve().then(function(){return t({type:"REMOVE_PRODUCT_FROM_CART_SUCCESS",payload:{index:e}})}).catch(function(){return t({type:"REMOVE_PRODUCT_FROM_CART_FAILURE"})})}}})(function(e){var t=e.id,a=e.image,n=e.name,c=e.amount,u=e.quantity,i=e.removeProductFromCart;return r.a.createElement("div",{className:"product"},r.a.createElement("img",{src:a,alt:n}),r.a.createElement("p",{className:"price"},c),r.a.createElement("h3",null,n),r.a.createElement("p",null,"Quantity: ",u),r.a.createElement("a",{onClick:function(){return i(t)}},"Remove from cart"))}),Y=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(N,null,this.products.map(function(e){return r.a.createElement(K,Object.assign({key:e.id},e))}))}},{key:"products",get:function(){return this.props.products}}]),t}(r.a.Component),Z=Object(p.b)(function(e){return{products:Object.values(e.cart.data)}},{getProducts:L})(Y),ee=(a(69),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{store:S},r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement(T,null,r.a.createElement(f.a,null,r.a.createElement(h.a,{path:"/",component:V,exact:!0}),r.a.createElement(h.a,{path:"/catalog",component:H,exact:!0}),r.a.createElement(h.a,{path:"/about",component:$}),r.a.createElement(h.a,{path:"/cart",component:Z}))),r.a.createElement(k,null))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,2,1]]]);
//# sourceMappingURL=main.2b5691d3.chunk.js.map